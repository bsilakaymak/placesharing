{"version":3,"sources":["users/components/UserProfileNav.js","friends/FriendItem.js","friends/FriendList.js","friends/FriendRequestItem.js","friends/FriendRequestList.js","friends/pages/Friends.js","shared/component/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","users/components/MessageItem.js","users/pages/Messages.js","places/components/BucketListItem.js","places/components/BucketList.js","users/components/UserProfile.js","users/pages/User.js","shared/Util/validators.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","shared/component/formElements/Input.js","shared/hooks/form-hook.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","shared/Util/constants.js","shared/component/formElements/ImageUpload.js"],"names":["UserProfileNav","userId","useContext","AuthContext","useState","userMenuOpen","setUserMenuOpen","toggleMenu","navBarHeight","height","window","innerHeight","className","onClick","style","to","FriendItem","user","id","name","image","Card","Avatar","alt","FriendList","friends","length","map","key","ReceivedFriendRequestItem","request","requestId","_id","auth","acceptFriendHandler","cancelFriendHandler","useHttpClient","error","sendRequest","clearError","acceptFriendRequest","userID","a","process","Authorization","token","cancelFriendRequest","console","ErrorModal","onClear","Button","variant","color","FriendRequestList","friendRequests","FriendRequestItem","Friends","setFriends","setFriendRequests","processedRequests","setProcessedRequests","isLoading","useEffect","getFriends","userData","getFriendRequests","processFriendRequest","prevValue","Map","props","setMap","mapContainer","useRef","center","zoom","mapboxgl","accessToken","container","current","on","resize","initializeMap","ref","el","PlaceItem","place","onDeletePlace","showMap","setShowMap","showConfirmModal","setShowConfirmModal","evaluation","setEvaluation","addLikes","setAddLikes","addDislikes","setAddDislike","showTravelWishButton","setShowTravelWishButton","showTick","setShowTick","closeMapHandler","title","address","description","location","tags","history","useHistory","data","fetchEvaluation","addLikeAndRemoved","isLoggedIn","newData","likes","JSON","stringify","push","addDisLikeAndRemoved","disLike","cancelDeleteHandler","confirmDeleteHandler","addBucketList","users","setUsers","getUsers","checkAdded","find","item","bucketList","filter","Modal","show","onCancel","header","contentClass","footerClass","footer","inverse","danger","src","imageUrl","includes","tag","Chip","size","label","PLACE_TAG_TITLES","creator","role","aria-label","aria-hidden","PlaceList","items","UserPlaces","places","setPlaces","useParams","setUser","sortBy","setSortBy","setTags","getUser","join","userWithPlaces","getPlaces","err","handleTagChange","event","tagName","target","checked","oldTags","tagInputs","PLACE_TAGS","tagInput","Checkbox","onChange","inputProps","Select","menuItemValue","value","defaultValue","MenuItem","disabled","detetedPlaceId","prevPlaces","MessageItem","msg","messageDeleteHandler","getUserMessages","message","MessageContext","delMessage","msgId","formatDate","date","Date","toLocaleString","isSent","Messages","contacts","setContacts","messagesData","allMessages","setAllMessages","mobileContactMode","setMobileContactMode","myScrollRef","scrollToBottom","scrollIntoView","behavior","useFrom","isValid","state","inputHandler","fetchContacts","corresponders","sendMessage","e","preventDefault","corresponderId","messageValue","inputs","res","messageId","fetchedMessages","messages","dltCorresponder","filteredContacts","contact","log","deletedMsgId","prevAllMessages","Fragment","LoadingSpinner","asOverlay","corresponder","i","onSubmit","Input","element","type","validators","VALIDATOR_REQUIRE","errorText","onInput","BucketListItem","bucket","deleteBucket","showDetails","setShowDetails","isVisited","visitStyle","setVisitStyle","closeDetailsHandler","deleteFromBucketList","visitedPlace","width","fontSize","createdBy","textDecoration","BucketList","userWithBucketList","getBucketList","href","encodeURIComponent","flexDirection","index","UserProfile","notifications","editImage","setEditImage","editName","setEditName","notStyle","setNotStyle","email","password","setFormData","switchModelHandler","authSubmitHandler","formData","FormData","append","notificationHandler","ImageUpload","currentMode","User","setNotifications","path","exact","component","withRouter","Users","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validate","validator","trim","test","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","configurable","writable","inputReducer","action","isTouched","changeHandeler","dispatch","touchHandler","inaialState","initailValue","initailValid","useReducer","placeholder","onBlur","rows","htmlFor","formReducer","formIsValid","inputId","initailInput","initailFormValidity","useCallback","inputData","formValidity","_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","F","s","n","done","_e","f","TypeError","it","normalCompletion","didErr","step","next","_e2","pickedFile","file","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","fileIsValid","fileReader","FileReader","onload","result","readAsDataURL","display","accept","files","click"],"mappings":"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","file":"static/js/7.409f8188.chunk.js","sourcesContent":["import React, { useContext, Fragment, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport \"./UserProfileNav.css\";\r\n\r\nconst UserProfileNav = () => {\r\n  const { userId } = useContext(AuthContext);\r\n  const [userMenuOpen, setUserMenuOpen] = useState(true);\r\n  const toggleMenu = () => {\r\n    setUserMenuOpen(!userMenuOpen);\r\n  };\r\n  const navBarHeight = {\r\n    height: window.innerHeight - 0.11 * window.innerHeight,\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <i\r\n        className={\r\n          userMenuOpen\r\n            ? `fas fa-angle-double-right mobile-hidden-icon desktop-hidden-icon`\r\n            : `fas fa-angle-double-right mobile-icon desktop-hidden-icon`\r\n        }\r\n        onClick={toggleMenu}\r\n      ></i>\r\n      <Card\r\n        className={\r\n          userMenuOpen\r\n            ? `sideBar fade-in `\r\n            : `sideBar mobile-hidden-menu fade-in`\r\n        }\r\n        style={navBarHeight}\r\n      >\r\n        <i\r\n          className=\"fas fa-angle-double-left desktop-hidden-icon\"\r\n          onClick={toggleMenu}\r\n        ></i>\r\n        <Link className=\"navLink\" to={`/${userId}/bucketlist`}>\r\n          <span>My Bucket List</span>\r\n        </Link>\r\n        <Link className=\"navLink\" to={`/${userId}/profile`}>\r\n          <span>Profile</span>\r\n        </Link>\r\n\r\n        <Link className=\"navLink\" to={`/${userId}/friends`}>\r\n          <span>My Friends</span>\r\n        </Link>\r\n        <Link className=\"navLink\" to={`/${userId}/messages`}>\r\n          <span>Messages</span>\r\n        </Link>\r\n      </Card>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserProfileNav;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '../shared/component/UIElements/Avatar';\r\nimport Card from '../shared/component/UIElements/Card';\r\n\r\nconst FriendItem = ({ user: { id, name, image } }) => {\r\n  return (\r\n    <li className=\"user-item\">\r\n      <Card className=\"user-item__content\">\r\n        <Link to={`/${id}/places`}>\r\n          <div className=\"user-item__image\">\r\n            <Avatar image={image} alt={name} />\r\n          </div>\r\n          <div className=\"user-item__info\">\r\n            <h2>{name}</h2>\r\n          </div>\r\n        </Link>\r\n      </Card>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default FriendItem;\r\n","import React from 'react';\r\nimport FriendItem from './FriendItem';\r\nimport Card from '../shared/component/UIElements/Card';\r\n\r\nconst FriendList = ({\r\n  friends,\r\n}) => {\r\n  if (friends.length === 0) {\r\n    return (\r\n      <div className=\"center m-1\">\r\n        <Card>\r\n          <h2 className=\"gray-text\">No friend found.</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {friends.map(user => (\r\n        <FriendItem user={user} key={user.id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FriendList;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '../shared/component/UIElements/Avatar';\r\nimport Card from '../shared/component/UIElements/Card';\r\nimport useHttpClient from '../shared/hooks/http-hook';\r\nimport ErrorModal from '../shared/component/UIElements/ErrorModal';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst ReceivedFriendRequestItem = ({\r\n  request: { _id: requestId, user: { id: userId, name, image } },\r\n  auth,\r\n  acceptFriendHandler,\r\n  cancelFriendHandler,\r\n}) => {\r\n  const {  error, sendRequest, clearError } = useHttpClient();\r\n  const acceptFriendRequest = async userID => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests/${requestId}`,\r\n        'PUT',\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n        },\r\n      );\r\n      acceptFriendHandler(userID);\r\n    } catch (error) { }\r\n  };\r\n  const cancelFriendRequest = async userID => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests/${requestId}`,\r\n        'DELETE',\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n        },\r\n      );\r\n      cancelFriendHandler(userID);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <li className=\"user-item\">\r\n        <Card className=\"user-item__content\">\r\n          <Link to={`/${userId}/places`}>\r\n            <div className=\"user-item__image\">\r\n              <Avatar image={image} alt={name} />\r\n            </div>\r\n            <div className=\"user-item__info\">\r\n              <h2>{name}</h2>\r\n            </div>\r\n          </Link>\r\n        </Card>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={() => acceptFriendRequest(userId)}>\r\n            <i className=\"fas fa-check-circle\"></i>Accept\r\n          </Button>{' '}\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={() => cancelFriendRequest(userId)}>\r\n            <i className=\"fas fa-window-close\"></i>Cancel\r\n          </Button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReceivedFriendRequestItem;\r\n","import React from 'react';\r\nimport FriendRequestItem from './FriendRequestItem';\r\nimport Card from '../shared/component/UIElements/Card';\r\n\r\nconst FriendRequestList = ({\r\n  auth,\r\n  friendRequests,\r\n  acceptFriendHandler,\r\n  cancelFriendHandler\r\n}) => {\r\n  if (friendRequests.length === 0) {\r\n    return (\r\n      <div className=\"center m-1\">\r\n        <Card>\r\n          <h2 className='gray-text'>No friend requests found.</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {friendRequests.map(request => (\r\n        <FriendRequestItem\r\n          auth={auth}\r\n          request={request}\r\n          key={request.id}\r\n          acceptFriendHandler={acceptFriendHandler}\r\n          cancelFriendHandler={cancelFriendHandler}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FriendRequestList;\r\n","import React, { useEffect, useState, useContext, Fragment } from 'react';\r\nimport FriendList from '../FriendList';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport useHttpClient from '../../shared/hooks/http-hook';\r\nimport ErrorModal from '../../shared/component/UIElements/ErrorModal';\r\nimport FriendRequestList from '../FriendRequestList';\r\n\r\nconst Friends = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [friends, setFriends] = useState([]);\r\n  const [friendRequests, setFriendRequests] = useState([]);\r\n  const [processedRequests, setProcessedRequests] = useState([]);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      try {\r\n        const userData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/friends`,\r\n          'GET',\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n          },\r\n        );\r\n        setFriends(userData.friends);\r\n      } catch (error) { }\r\n    };\r\n    const getFriendRequests = async () => {\r\n      try {\r\n        const userData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests`,\r\n          'GET',\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n          },\r\n        );\r\n        setFriendRequests(userData.friendRequests);\r\n      } catch (error) { }\r\n    };\r\n    getFriends();\r\n    getFriendRequests();\r\n  }, [processedRequests,auth.token,sendRequest]);\r\n\r\n  const processFriendRequest = userId => {\r\n    setProcessedRequests(prevValue => [...prevValue, userId]);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"fade-in no-select\">\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {!isLoading && friends && (\r\n          <FriendList\r\n            friends={friends}\r\n          />\r\n        )}\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {!isLoading && friendRequests && (\r\n          <FriendRequestList\r\n            auth={auth}\r\n            friendRequests={friendRequests}\r\n            acceptFriendHandler={processFriendRequest}\r\n            cancelFriendHandler={processFriendRequest}\r\n          />\r\n        )}\r\n        </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"./Map.css\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\n\r\nconst Map = props => {\r\n  const [map, setMap] = useState(null);\r\n  const mapContainer = useRef(null);\r\n  const { center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY;\r\n    const initializeMap = ({ setMap, mapContainer }) => {\r\n      const map = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: \"mapbox://styles/mapbox/streets-v11\",\r\n        center: center,\r\n        zoom: zoom\r\n      });\r\n\r\n      map.on(\"load\", () => {\r\n        setMap(map);\r\n        map.resize();\r\n      });\r\n    };\r\n\r\n    if (!map) initializeMap({ setMap, mapContainer });\r\n  }, [map, center, zoom]);\r\n\r\n  return (\r\n    <div\r\n      className={`map ${props.className}`}\r\n      ref={el => (mapContainer.current = el)}\r\n      style={props.style}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","\r\nimport React, { useState, Fragment, useContext, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport \"./PlaceItem.css\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport Modal from \"../../shared/component/UIElements/Modal\";\r\nimport Map from \"../../shared/component/UIElements/Map\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { PLACE_TAG_TITLES } from \"../../shared/Util/constants\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\n\r\n\r\nconst PlaceItem = ({ place, onDeletePlace }) => {\r\n  const {error, sendRequest, clearError } = useHttpClient();\r\n  const auth = useContext(AuthContext);\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [evaluation, setEvaluation] = useState();\r\n  const [addLikes, setAddLikes] = useState();\r\n  const [addDislikes, setAddDislike] = useState();\r\n  const [showTravelWishButton, setShowTravelWishButton] = useState(true);\r\n  const [showTick, setShowTick] = useState(false);\r\n  const openMapHandler = () => setShowMap(true);\r\n  const closeMapHandler = () => setShowMap(false);\r\n  const {\r\n    id,\r\n    image,\r\n    name,\r\n    title,\r\n    address,\r\n    description,\r\n    location,\r\n    tags,\r\n  } = place;\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    const fetchEvaluation = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/evaluation/${id}`,\r\n        );\r\n        setEvaluation(data.place);\r\n      } catch (error) {}\r\n    };\r\n    fetchEvaluation();\r\n  }, [addLikes, addDislikes, id, sendRequest]);\r\n\r\n  const addLikeAndRemoved = async () => {\r\n    if (auth.isLoggedIn) {\r\n      try {\r\n        const newData = { likes: auth.userId };\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/like/${id}`,\r\n          'POST',\r\n          JSON.stringify(newData),\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        );\r\n\r\n        setAddLikes(data);\r\n      } catch (error) {}\r\n    } else {\r\n      history.push('/auth');\r\n    }\r\n  };\r\n\r\n  const addDisLikeAndRemoved = async () => {\r\n    if (auth.isLoggedIn) {\r\n      try {\r\n        const newData = { disLike: auth.userId };\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/dislike/${id}`,\r\n\r\n          'POST',\r\n\r\n          JSON.stringify(newData),\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        );\r\n\r\n        setAddDislike(data);\r\n      } catch (error) {}\r\n    } else {\r\n      history.push('/auth');\r\n    }\r\n  };\r\n\r\n  const showDeleteWaringHandler = () => {\r\n    setShowConfirmModal(true);\r\n  };\r\n  const cancelDeleteHandler = () => {\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  const confirmDeleteHandler = async () => {\r\n    setShowConfirmModal(false);\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/places/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token\r\n        }\r\n      );\r\n      onDeletePlace(id);\r\n    } catch (error) {}\r\n  };\r\n  const addBucketList = async () => {\r\n    try {\r\n      setShowTravelWishButton(false);\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${id}`,\r\n        'PATCH',\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n        },\r\n      );\r\n      setShowTick(true);\r\n    } catch (error) {\r\n      setShowTravelWishButton(true);\r\n    }\r\n  };\r\n  const [users, setUsers] = useState();\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users`,\r\n        );\r\n        setUsers(data.users);\r\n      } catch (error) {}\r\n    };\r\n    getUsers();\r\n  }, [sendRequest]);\r\n\r\n  const checkAdded = users => {\r\n    if (!auth.userId) {\r\n      return false;\r\n    }\r\n    const currentUser = users.find(item => item._id === auth.userId);\r\n    const nonUniqueArray = currentUser.bucketList.filter(item => {\r\n      return item.id === id;\r\n    });\r\n    if (nonUniqueArray.length === 0) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <Modal\r\n        show={showMap}\r\n        onCancel={closeMapHandler}\r\n        header={address}\r\n        contentClass=\"place-item__modal-content\"\r\n        footerClass=\"place-item__actions\"\r\n        footer={<Button onClick={closeMapHandler}>Close</Button>}\r\n      >\r\n        <div className=\"map-container no-select\">\r\n          <h2>THE MAP!</h2>\r\n          <Map center={location} zoom={16} />\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        show={showConfirmModal}\r\n        onCancel={cancelDeleteHandler}\r\n        header=\"Are you sure?\"\r\n        className=\"place-item__modal-actions\"\r\n        footer={\r\n          <Fragment>\r\n            <Button inverse onClick={cancelDeleteHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </Fragment>\r\n        }\r\n      >\r\n        <p>\r\n          Do you want to proceed and delete this place? note that it can't be\r\n          undone thereafter.\r\n        </p>\r\n      </Modal>\r\n      {users && (\r\n        <li className=\"place-item fade-in\">\r\n          <Card className=\"place-item__content\">\r\n            <div className=\"place-item__image\">\r\n              <img src={image.imageUrl} alt={name} />\r\n            </div>\r\n            <div className=\"place-item__info\">\r\n              <div className=\"evaluation no-select\">\r\n                {evaluation && (\r\n                  <div className=\"like\">\r\n                    <p className=\"like-count\">\r\n                      {evaluation.likes >= 1000\r\n                        ? evaluation.likes.length / 1000 + \"k\"\r\n                        : evaluation.likes.length}\r\n                    </p>\r\n                    <i\r\n                      className=\"fas fa-thumbs-up fa-2x\"\r\n                      onClick={addLikeAndRemoved}\r\n                      style={{\r\n                        color: evaluation.likes.includes(auth.userId) && \"green\"\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n                {evaluation && (\r\n                  <div className=\"dislike\">\r\n                    <p className=\"dislike-count\">\r\n                      {evaluation.disLike >= 1000\r\n                        ? evaluation.disLike.length / 1000 + \"k\"\r\n                        : evaluation.disLike.length}\r\n                    </p>\r\n                    <i\r\n                      className=\"fas fa-thumbs-down fa-2x\"\r\n                      onClick={addDisLikeAndRemoved}\r\n                      style={{\r\n                        color: evaluation.disLike.includes(auth.userId) && \"red\"\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n              </div>{\" \"}\r\n              <p>{JSON.stringify()}</p>\r\n              <h2>{title}</h2>\r\n              <h3>{address}</h3>\r\n              <p>{description}</p>\r\n              <div>\r\n                {tags.map(tag => {\r\n                  return (\r\n                    <Chip\r\n                      key={tag}\r\n                      className=\"tag-chip\"\r\n                      variant=\"outlined\"\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      label={PLACE_TAG_TITLES[tag]}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div className=\"place-item__actions\">\r\n              <Button inverse onClick={openMapHandler}>\r\n                VIEW ON MAP\r\n              </Button>\r\n              <Link to={`/places/${id}`}>\r\n                <Button>DETAILS</Button>\r\n              </Link>\r\n              {place.creator === auth.userId && (\r\n                <Button to={`/places/${id}/edit`}>EDIT</Button>\r\n              )}\r\n              {place.creator === auth.userId && (\r\n                <Button danger onClick={showDeleteWaringHandler}>\r\n                  DELETE\r\n                </Button>\r\n              )}\r\n              {auth.token &&\r\n                place.creator !== auth.userId &&\r\n                showTravelWishButton &&\r\n                !checkAdded(users) && (\r\n                  <Button onClick={addBucketList}>ADD TO BUCKET LIST</Button>\r\n                )}\r\n              {checkAdded(users) && auth.userId && (\r\n                <span className=\"animated\">\r\n                  Already in your bucket{\" \"}\r\n                  <span\r\n                    role=\"img\"\r\n                    aria-label={\"already-in your bucket\"}\r\n                    aria-hidden={false}\r\n                  >\r\n                    &#9989;\r\n                  </span>\r\n                </span>\r\n              )}\r\n              {showTick && (\r\n                <span className=\" fadeOut animated\">\r\n                  Added{\" \"}\r\n                  <span role=\"img\" aria-label={\"added\"} aria-hidden={false}>\r\n                    &#9989;\r\n                  </span>\r\n                </span>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </li>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from \"react\";\r\nimport \"./PlaceList.css\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport PlaceItem from \"./PlaceItem\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\n\r\nconst PlaceList = ({ items, onDeletePlace }) => {\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"place-list center\">\r\n        <Card>\r\n          <h2>No places found maybe create one ?</h2>\r\n          <Button to='/places/new'>Share place</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"place-list\">\r\n      {items.map(place => (\r\n        <PlaceItem key={place.id} place={place} onDeletePlace={onDeletePlace}/>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PlaceList;\r\n","import React, { Fragment, useState, useEffect, useContext } from \"react\";\r\nimport PlaceList from \"../components/PlaceList\";\r\nimport { useParams, useHistory, Link } from \"react-router-dom\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport \"./UserPlaces.css\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { Select, Checkbox, MenuItem } from \"@material-ui/core\";\r\nimport { PLACE_TAGS } from \"../../shared/Util/constants\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\n\r\nconst UserPlaces = () => {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [places, setPlaces] = useState();\r\n  const userId = useParams().userId;\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const [user, setUser] = useState();\r\n  const [sortBy, setSortBy] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}/`\r\n        );\r\n        setUser(data);\r\n      } catch (err) {}\r\n    };\r\n    getUser();\r\n  }, [sendRequest, userId]);\r\n\r\n  useEffect(() => {\r\n    const getPlaces = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${\r\n            process.env.REACT_APP_BACKEND_URL\r\n          }/places/user/${userId}/?sortBy=${sortBy}&tagFilter=${tags.join(\",\")}`\r\n        );\r\n        setPlaces(data.userWithPlaces);\r\n      } catch (error) {}\r\n    };\r\n    getPlaces();\r\n  }, [sendRequest, userId, sortBy, tags]);\r\n  const placeDeleteHandler = (detetedPlaceId) => {\r\n    setPlaces((prevPlaces) =>\r\n      prevPlaces.filter((places) => places.id !== detetedPlaceId)\r\n    );\r\n  };\r\n  const getError = (err) => {\r\n    if (!places && auth.userId !== userId) {\r\n      return (\r\n        <h2 className=\"center gray-text fade-in-faster\">\r\n          There is no place shared by this user\r\n        </h2>\r\n      );\r\n    }\r\n    if (!places && auth.userId === userId) {\r\n      return (\r\n        <Fragment>\r\n          <h2 className=\"center gray-text fade-in-faster\">\r\n            You don't have any shared places. Would you like to add one?\r\n          </h2>\r\n          <div className=\"center fade-in-faster\">\r\n            <Button inverse to=\"/places/new\">\r\n              ADD A PLACE\r\n            </Button>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    } else {\r\n      return <h2>{err}</h2>;\r\n    }\r\n  };\r\n\r\n  //sort on selected option below\r\n  const sortByTitleRateDate = (event) => {\r\n    const menuItemValue = event.target.value;\r\n    if (menuItemValue === \"rate\") setSortBy(\"rate\");\r\n    if (menuItemValue === \"title\") setSortBy(\"title\");\r\n    if (menuItemValue === \"created_at\") setSortBy(\"created_at\");\r\n  };\r\n\r\n  const handleTagChange = (event) => {\r\n    const tagName = event.target.name;\r\n    const checked = event.target.checked;\r\n    if (checked) {\r\n      setTags((oldTags) => {\r\n        return oldTags.includes(tagName) ? oldTags : [...oldTags, tagName];\r\n      });\r\n    } else {\r\n      setTags((oldTags) => {\r\n        return oldTags.includes(tagName)\r\n          ? oldTags.filter((tag) => tag !== tagName)\r\n          : oldTags;\r\n      });\r\n    }\r\n  };\r\n\r\n  const goHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n  if (error)\r\n    return (\r\n      <ErrorModal\r\n        error={getError(error)}\r\n        header=\"Hello there!\"\r\n        onClear={goHome}\r\n      />\r\n    );\r\n\r\n  const tagInputs = [];\r\n\r\n  PLACE_TAGS.map((tag) => {\r\n    const checked = tags.includes(tag.name);\r\n    const tagInput = (\r\n      <span key={tag.name}>\r\n        <label>\r\n          <Checkbox\r\n            name={tag.name}\r\n            checked={checked}\r\n            onChange={handleTagChange}\r\n            inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n          />\r\n          {tag.title}\r\n        </label>\r\n        <span>&nbsp;&nbsp;</span>\r\n      </span>\r\n    );\r\n    tagInputs.push(tagInput);\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"place-overlay-container fade-in\">\r\n        <h2 className=\"center white-text inline no-select\">\r\n          Places of{\" \"}\r\n          <span className=\"yellow-text fade-in\"> {user && user.user.name}</span>{\" \"}\r\n        </h2>\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {!isLoading && places && (\r\n          <Fragment>\r\n            <div className=\"sort-filter-layout\">\r\n              <Select\r\n                onChange={sortByTitleRateDate}\r\n                defaultValue=\"none\"\r\n                style={{ color: \"white\" }}\r\n              >\r\n                <MenuItem value=\"none\" disabled>\r\n                  Choose an option to Sort\r\n                </MenuItem>\r\n                <MenuItem value=\"rate\">Sort By Rate</MenuItem>\r\n                <MenuItem value=\"title\">Sort By Title</MenuItem>\r\n                <MenuItem value=\"created_at\">Sort By Adding Date</MenuItem>\r\n              </Select>\r\n              {tagInputs}\r\n            </div>\r\n\r\n            <PlaceList items={places} onDeletePlace={placeDeleteHandler} />\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserPlaces;\r\n","import React, { useContext, Fragment } from \"react\";\r\nimport { MessageContext } from \"../../shared/context/message-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport \"./MessageItem.css\";\r\n\r\nconst MessageItem = ({ msg, messageDeleteHandler, getUserMessages }) => {\r\n  const message = useContext(MessageContext);\r\n  const { sendRequest } = useHttpClient();\r\n  const { token } = useContext(AuthContext);\r\n\r\n  const delMessage = async (userId, msgId) => {\r\n    await sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/user/messages/${userId}/${msgId}`,\r\n      \"DELETE\",\r\n      null,\r\n      {\r\n        Authorization: \"Bearer \" + token,\r\n      }\r\n    );\r\n\r\n    messageDeleteHandler(msgId);\r\n    getUserMessages(userId);\r\n  };\r\n  const formatDate = (date) => {\r\n    const d1 = new Date(date);\r\n    return d1.toLocaleString(\"en-NL\");\r\n  };\r\n  return (\r\n    <div\r\n      key={msg._id}\r\n      className={`mContainer ${msg.isSent ? \"myMsg\" : \"userMsg\"}`}\r\n    >\r\n      <div className={`msgInfo ${msg.isSent ? \"toRyt\" : \"toLeft\"}`}>\r\n        {msg.isSent ? (\r\n          <Fragment>\r\n            <p>{formatDate(msg.date)}</p>\r\n            <button onClick={() => delMessage(message.id, msg._id)}>x</button>\r\n          </Fragment>\r\n        ) : (\r\n          <Fragment>\r\n            <button onClick={() => delMessage(message.id, msg._id)}>x</button>\r\n            <p>{formatDate(msg.date)}</p>\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n      <p>{msg.message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageItem;\r\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport \"./Messages.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MessageContext } from \"../../shared/context/message-context\";\r\nimport Input from \"../../shared/component/formElements/Input\";\r\nimport { useFrom } from \"../../shared/hooks/form-hook\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/Util/validators\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport MessageItem from \"../components/MessageItem\";\r\nimport Avatar from \"../../shared/component/UIElements/Avatar\";\r\n\r\nconst Messages = () => {\r\n  const [contacts, setContacts] = useState([]);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { token } = useContext(AuthContext);\r\n  const message = useContext(MessageContext);\r\n  const [allMessages, setAllMessages] = useState(message.messagesData);\r\n  const [mobileContactMode, setMobileContactMode] = useState(true);\r\n\r\n  // scroll to the bottom of the messages box\r\n  const myScrollRef = useRef();\r\n  const scrollToBottom = () => {\r\n    myScrollRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  const [state, inputHandler] = useFrom(\r\n    {\r\n      message: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  // fetching contacts (only texted ones not all users)\r\n  const fetchContacts = async () => {\r\n    try {\r\n      const data = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          Authorization: `Bearer ${token}`,\r\n        }\r\n      );\r\n      setContacts(data.corresponders);\r\n      scrollToBottom();\r\n    } catch (error) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchContacts();\r\n  }, [sendRequest, token]);\r\n\r\n  // Send a message\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    const corresponderId = message.id;\r\n    const messageValue = state.inputs.message.value;\r\n    try {\r\n      const res = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${corresponderId}`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          message: messageValue,\r\n        }),\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n      setAllMessages([\r\n        ...allMessages,\r\n        { message: messageValue, isSent: true, _id: res.messageId },\r\n      ]);\r\n      scrollToBottom();\r\n      getUserMessages(corresponderId);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Get all messages as per the texted person\r\n  const getUserMessages = async (id) => {\r\n    const corresponderId = id;\r\n    try {\r\n      const fetchedMessages = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${corresponderId}`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n        }\r\n      );\r\n      fetchContacts();\r\n      setAllMessages(fetchedMessages.messages);\r\n      message.id = corresponderId;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Delete a corresponder\r\n  const dltCorresponder = async (id) => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n        }\r\n      );\r\n      const filteredContacts = contacts.filter((contact) => contact._id !== id);\r\n      setContacts(filteredContacts);\r\n      setAllMessages([]);\r\n      fetchContacts();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const messageDeleteHandler = (deletedMsgId) => {\r\n    setAllMessages((prevAllMessages) =>\r\n      prevAllMessages.filter((msg) => msg.id !== deletedMsgId)\r\n    );\r\n  };\r\n\r\n  // const msgBoxHeight = {\r\n  //   height: window.innerHeight - 0.12 * window.innerHeight,\r\n  // };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {!isLoading && (\r\n        <Card className=\"messages__card\">\r\n          {/* Contacts */}\r\n          <div\r\n            className={\r\n              mobileContactMode\r\n                ? `contacts__container contact__container-mobile`\r\n                : `contacts__container contact__container-hidden`\r\n            }\r\n          >\r\n            <h2 className=\"header\">Recent</h2>\r\n            <div className=\"contacts__box\">\r\n              {contacts.length > 0 &&\r\n                contacts.map((contact) => (( contact.corresponder &&\r\n                  <Card\r\n                    className=\"user-item__content\"\r\n                    key={contact.corresponder._id}\r\n                    className={`user-item__content ${\r\n                      message.id === contact.corresponder._id &&\r\n                      \"activatedContact\"\r\n                    }`}\r\n                  >\r\n                    <div\r\n                      onClick={() => {\r\n                        getUserMessages(contact.corresponder._id);\r\n                        setMobileContactMode(false);\r\n                      }}\r\n                      className={`cardWidth`}\r\n                    >\r\n                      <div className=\"user-item__image m-1\">\r\n                        <Avatar\r\n                          image={contact.corresponder.image}\r\n                          alt={contact.corresponder.name}\r\n                        />\r\n                      </div>\r\n                      <div className=\"user-item__info m-1\">\r\n                        <h3>{contact.corresponder.name}</h3>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => dltCorresponder(contact.corresponder._id)}\r\n                    >\r\n                      X\r\n                    </button>\r\n                  </Card>\r\n                )))}\r\n            </div>\r\n            <div className=\"innerBox\">\r\n              {contacts.length === 0 && (\r\n                <Link className=\"link-text\" to=\"/\">\r\n                  Text a user!\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Messages */}\r\n          <div\r\n            className={\r\n              mobileContactMode\r\n                ? `message__box message__box-hidden`\r\n                : `message__box message__box-mobile`\r\n            }\r\n          >\r\n            <h2 className=\"header\">Messages</h2>\r\n            <a\r\n              onClick={() => {\r\n                setMobileContactMode(true);\r\n              }}\r\n              className=\"mobile-hidden\"\r\n            >\r\n              BACK\r\n            </a>\r\n            <div className=\"msgsContainer\">\r\n              {allMessages.length > 0 ? (\r\n                allMessages.map((msg, i) => (\r\n                  <MessageItem\r\n                    key={i}\r\n                    msg={msg}\r\n                    messageDeleteHandler={messageDeleteHandler}\r\n                    getUserMessages={getUserMessages}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <div>Start a message!</div>\r\n              )}\r\n              <div ref={myScrollRef}></div>\r\n            </div>\r\n\r\n            <form onSubmit={sendMessage}>\r\n              <Input\r\n                id=\"message\"\r\n                element=\"input\"\r\n                type=\"text\"\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                errorText=\"Please enter your message\"\r\n                onInput={inputHandler}\r\n              />\r\n              <Button type=\"submit\">Send</Button>\r\n            </form>\r\n          </div>\r\n        </Card>\r\n      )}{\" \"}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Messages;\r\n","import React, { useState, useContext, Fragment } from \"react\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport Modal from \"../../shared/component/UIElements/Modal\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport \"./BucketListItem.css\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nconst BucketListItem = ({ bucket, deleteBucket }) => {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [visitStyle, setVisitStyle] = useState(bucket.isVisited);\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { id } = bucket;\r\n  const { userId } = useParams();\r\n  const openDetailsHandler = () => {\r\n    setShowDetails(true);\r\n  };\r\n  const closeDetailsHandler = () => {\r\n    setShowDetails(false);\r\n  };\r\n\r\n  const deleteFromBucketList = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${bucket.id._id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token\r\n        }\r\n      );\r\n      deleteBucket(bucket.id._id);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const visitedPlace = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${bucket.id._id}`,\r\n        \"PUT\",\r\n        null,\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token\r\n        }\r\n      );\r\n    } catch (error) {}\r\n  };\r\n  if (error) return <ErrorModal error={error} onClear={clearError} />;\r\n  return (\r\n    <Fragment>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n      <div className=\"bucket-list-item no-select\">\r\n        <Modal\r\n          show={showDetails}\r\n          onCancel={closeDetailsHandler}\r\n          header={bucket.name}\r\n          contentClass=\"place-item__modal-content\"\r\n          footerClass=\"place-item__actions\"\r\n          footer={<Button onClick={closeDetailsHandler}>Close</Button>}\r\n        >\r\n          <div className=\"detail-item\">\r\n            <div className=\"bucket-image\">\r\n              <img\r\n                style={{ width: \"100%\" }}\r\n                src={id.image.imageUrl}\r\n                alt=\"bucket-place\"\r\n              ></img>\r\n            </div>\r\n\r\n            <div className=\"bucket-info\">\r\n              <p style={{ fontSize: \"1.5em\" }}>{id.title}</p>\r\n              <p>{id.description}</p>\r\n              <p>Address: {id.address}</p>\r\n              <p className=\"bucket-creator\">\r\n                {\" \"}\r\n                <strong>Shared by:</strong>{\" \"}\r\n                <Link to={`/${id.creator}/places`}>{bucket.createdBy}</Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n        <p style={{ textDecoration: visitStyle ? \"line-through\" : \"none\" }}>\r\n          {bucket && bucket.id.title}\r\n        </p>\r\n        {userId === auth.userId && (\r\n          <Button\r\n            size=\"mobile\"\r\n            danger\r\n            onClick={() => {\r\n              deleteFromBucketList();\r\n            }}\r\n          >\r\n            Delete\r\n          </Button>\r\n        )}\r\n\r\n        <Button size=\"mobile\" onClick={() => openDetailsHandler()}>\r\n          Show Details\r\n        </Button>\r\n        {userId === auth.userId && (\r\n          <Button\r\n            size=\"mobile\"\r\n            inverse\r\n            onClick={() => {\r\n              setVisitStyle(!visitStyle);\r\n              visitedPlace();\r\n            }}\r\n          >\r\n            {visitStyle ? \"Not Visited\" : \"Visited\"}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\nexport default BucketListItem;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport BucketListItem from \"./BucketListItem\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport \"./BucketList.css\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\n\r\nconst BucketList = () => {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [places, setPlaces] = useState();\r\n  const { userId } = useParams();\r\n  const auth = useContext(AuthContext);\r\n  const deleteFromBucketList = (id) => {\r\n    setPlaces((prevPlaces) =>\r\n      prevPlaces.filter((place) => place.id._id !== id)\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    const getBucketList = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist?q=${userId}`\r\n        );\r\n        setPlaces(data.userWithBucketList);\r\n      } catch (err) {}\r\n    };\r\n    getBucketList();\r\n  }, [sendRequest, userId]);\r\n  const [user, setUser] = useState();\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}/`\r\n        );\r\n        setUser(data);\r\n      } catch (err) {}\r\n    };\r\n    getUser();\r\n  }, [sendRequest, userId]);\r\n\r\n  if (error) {\r\n    return <ErrorModal error={error} onClear={clearError} header={`Hey!`} />;\r\n  }\r\n  if (isLoading)\r\n    return (\r\n      <div className=\"center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  else {\r\n    return (\r\n      <div>\r\n        {userId === auth.userId && (\r\n          <div className=\"share-box  no-select\">\r\n            <div className=\"share-button\">\r\n              <a\r\n                href={`https://twitter.com/intent/tweet?url=${encodeURIComponent(\r\n                  `${process.env.REACT_APP_PUBLIC_URL}/${userId}/bucketlist`\r\n                )}&text=My+Travel+Bucket+List%2C+Connect+and+Explore.&hashtags=travelling,wanderlust,yourplacesapp`}\r\n              >\r\n                <i className=\"fab fa-twitter-square\"></i>\r\n              </a>\r\n              <a\r\n                href={`https://www.facebook.com/sharer.php?u=${encodeURIComponent(\r\n                  `${process.env.REACT_APP_PUBLIC_URL}/${userId}/bucketlist`\r\n                )}`}\r\n              >\r\n                <i className=\"fab fa-facebook-square\"></i>\r\n              </a>\r\n            </div>\r\n            <p>SHARE</p>\r\n          </div>\r\n        )}\r\n        <React.Fragment>\r\n          <div className=\"bucket-list-content\">\r\n            <div className=\"m-b-2\">\r\n              <h2 className=\" white-text fade-in no-select center\">\r\n                Bucket List of{\" \"}\r\n                <span className=\"m-05 yellow-text\">\r\n                  {\" \"}\r\n                  {user && user.user.name}\r\n                </span>{\" \"}\r\n              </h2>\r\n            </div>\r\n            {places && places.length === 0 && auth.userId === userId && (\r\n              <h2\r\n                className=\"center white-text fade-in\"\r\n                style={{ flexDirection: \"column\" }}\r\n              >\r\n                You don't have any places in your bucket list. Maybe check some\r\n                places?\r\n                <Link to=\"/\"> Go to home</Link>\r\n              </h2>\r\n            )}\r\n            {auth.userId !== userId && places && places.length === 0 && (\r\n              <h2 className=\"center white-text fade-in\">\r\n                This user does not have any places in their bucket list\r\n              </h2>\r\n            )}\r\n\r\n            {places &&\r\n              places.map((bucket, index) => {\r\n                return (\r\n                  <BucketListItem\r\n                    bucket={bucket}\r\n                    key={index}\r\n                    index={index}\r\n                    deleteBucket={deleteFromBucketList}\r\n                  />\r\n                );\r\n              })}\r\n          </div>\r\n        </React.Fragment>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default BucketList;\r\n","import React, { useState, useContext } from \"react\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { useFrom } from \"../../shared/hooks/form-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/Util/validators\";\r\n\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport Avatar from \"../../shared/component/UIElements/Avatar\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport Input from \"../../shared/component/formElements/Input\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport ImageUpload from \"../../shared/component/formElements/ImageUpload\";\r\n\r\nimport \"./UserProfile.css\";\r\nconst UserProfile = ({ user, setUser, notifications }) => {\r\n  const { userId, token } = useContext(AuthContext);\r\n  const [editImage, setEditImage] = useState(false);\r\n  const [editName, setEditName] = useState(false);\r\n  const [notStyle, setNotStyle] = useState(notifications);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { name, image } = user;\r\n  const [state, inputHandler, setFormData] = useFrom(\r\n    {\r\n      email: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const switchModelHandler = () => {\r\n    if (editImage) {\r\n      setFormData(\r\n        {\r\n          image: {\r\n            value: null,\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    } else if (editName) {\r\n      setFormData(\r\n        {\r\n          name: {\r\n            value: name,\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: \"\",\r\n            isValid: false,\r\n          },\r\n          password: {\r\n            value: \"\",\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    }\r\n  };\r\n\r\n  const changeEditName = () => {\r\n    setEditName((currentMode) => !currentMode);\r\n    switchModelHandler();\r\n  };\r\n  const changeEditImage = () => {\r\n    setEditImage((currentMode) => !currentMode);\r\n    switchModelHandler();\r\n  };\r\n\r\n  const authSubmitHandler = async () => {\r\n    if (editName) {\r\n      try {\r\n        const res = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\r\n          \"PATCH\",\r\n          JSON.stringify({\r\n            name: state.inputs.name.value,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          }\r\n        );\r\n        setEditName(false);\r\n        setUser(res.user);\r\n      } catch (error) {}\r\n    } else {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", state.inputs.image.value);\r\n\r\n        const res = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\r\n          \"PATCH\",\r\n          formData,\r\n          {\r\n            Authorization: `Bearer ${token}`,\r\n          }\r\n        );\r\n        setEditImage(false);\r\n        setUser(res.user);\r\n      } catch (error) {}\r\n    }\r\n  };\r\n\r\n  const notificationHandler = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/users/notifications/${userId}`,\r\n        \"PUT\",\r\n        null,\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        }\r\n      );\r\n    } catch (error) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile fade-in no-select\">\r\n      {isLoading && <LoadingSpinner />}\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {!isLoading && (\r\n        <Card className=\"profile__card\">\r\n          {!editName && (\r\n            <React.Fragment>\r\n              {editImage ? (\r\n                <ImageUpload\r\n                  center\r\n                  id={\"image\"}\r\n                  onInput={inputHandler}\r\n                  errorText=\"Please provide an image\"\r\n                />\r\n              ) : (\r\n                <Avatar image={image} className=\"profile__avatar\" />\r\n              )}\r\n              {editImage && (\r\n                <Button inverse onClick={authSubmitHandler}>\r\n                  Save\r\n                </Button>\r\n              )}\r\n              <Button onClick={changeEditImage}>\r\n                {editImage ? \"Cancel\" : \"Change Image\"}\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n          {!editImage && (\r\n            <React.Fragment>\r\n              {editName ? (\r\n                <Input\r\n                  id=\"name\"\r\n                  element=\"input\"\r\n                  type=\"text\"\r\n                  label=\"Your Name\"\r\n                  validators={[VALIDATOR_REQUIRE()]}\r\n                  errorText=\"Please enter a valid name\"\r\n                  onInput={inputHandler}\r\n                />\r\n              ) : (\r\n                <h4>{name}</h4>\r\n              )}\r\n              {editName && (\r\n                <Button inverse onClick={authSubmitHandler}>\r\n                  Save\r\n                </Button>\r\n              )}\r\n              <Button onClick={changeEditName}>\r\n                {editName ? \"Cancel\" : \"Edit Name\"}\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n        </Card>\r\n      )}\r\n      {user && (\r\n        <div className=\"notification-box card\">\r\n          <p>Do You Want To Receive E-mail Notifications?</p>\r\n          <Button\r\n            onClick={() => {\r\n              setNotStyle(!notStyle);\r\n              notificationHandler();\r\n            }}\r\n          >\r\n            {notStyle ? \"TURN OFF\" : \"TURN ON\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState, useContext, Fragment } from \"react\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { BrowserRouter as Router, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport UserProfile from \"../components/UserProfile\";\r\nimport Messages from \"../pages/Messages\";\r\nimport UserPlaces from \"../../places/pages/UserPlaces\";\r\nimport Users from \"../../users/pages/Users\";\r\nimport UserProfileNav from \"../components/UserProfileNav\";\r\nimport BucketList from \"../../places/components/BucketList\";\r\nimport Friends from \"../../friends/pages/Friends\";\r\nimport \"./User.css\";\r\n\r\nconst User = () => {\r\n  const { userId } = useContext(AuthContext);\r\n  const [user, setUser] = useState({});\r\n  const [notifications, setNotifications] = useState();\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}`\r\n        );\r\n        setUser(data.user);\r\n        setNotifications(data.user.notifications);\r\n        console.log(data.user.notifications);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [sendRequest, userId]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && (\r\n        <div className=\"center\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      {!isLoading && (\r\n        <Router>\r\n          <UserProfileNav />\r\n          <Switch>\r\n          <Route path={`/:userId/my`} exact>\r\n            <img  className= \"fade-in\" src=\"/images/my-page.png\" alt=\"my-page\" />\r\n          </Route>\r\n          <Route path={`/:userId/places`} exact component={withRouter(UserPlaces)}/>\r\n            <Route path={`/:userId/profile`} exact>\r\n              <UserProfile\r\n                user={user}\r\n                setUser={setUser}\r\n                notifications={notifications}\r\n              />\r\n            </Route>\r\n            <Route path={`/:userId/messages`} exact>\r\n              <Messages />\r\n            </Route>\r\n            <Route path={`/:userId/bucketlist`} exact>\r\n              <BucketList />\r\n            </Route>\r\n            <Route path={`/:userId/friends`} exact>\r\n              <Friends />\r\n            </Route>\r\n            <Route path=\"/\" exact>\r\n              <Users />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid = isValid && value.trim().length > 0;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid = isValid && value.trim().length >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid = isValid && value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid = isValid && +value >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid = isValid && +value <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n    }\r\n  }\r\n  return isValid;\r\n};\r\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { useReducer, useEffect } from \"react\";\r\nimport { validate } from \"../../Util/validators\";\r\nimport \"./Input.css\";\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CHANGE\":\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n        isValid: validate(action.val, action.validators),\r\n      };\r\n    case \"TOUCH\":\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Input = props => {\r\n  const changeHandeler = event => {\r\n    dispatch({\r\n      type: \"CHANGE\",\r\n      val: event.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n  const touchHandler = event => {\r\n    dispatch({ type: \"TOUCH\" });\r\n  };\r\n  const inaialState = {\r\n    value: props.initailValue || \"\",\r\n    isValid: props.initailValid || false,\r\n    isTouched: false,\r\n  };\r\n  const [state, dispatch] = useReducer(inputReducer, inaialState);\r\n\r\n  const { id, onInput } = props;\r\n  const { value, isValid } = state;\r\n  useEffect(() => {\r\n    onInput(id, value, isValid);\r\n  }, [id, value, isValid, onInput]);\r\n\r\n  const element =\r\n    props.element === \"input\" ? (\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        onChange={changeHandeler}\r\n        onBlur={touchHandler}\r\n        value={state.value}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        id={props.id}\r\n        rows={props.rows || 3}\r\n        onChange={changeHandeler}\r\n        onBlur={touchHandler}\r\n        value={state.value}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <div className={`form-control ${!state.isValid && state.isTouched && \"form-control--invalid\"}`}>\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {element}\r\n      {!state.isValid && state.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\":\r\n      let formIsValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n        if (inputId === action.inputId) {\r\n          formIsValid = formIsValid && action.isValid;\r\n        } else {\r\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid }\r\n        },\r\n        isValid: formIsValid\r\n      };\r\n    case \"SET_DATA\":\r\n      return {\r\n        ...state,\r\n        inputs: action.inputs,\r\n        isValid: action.formIsValid\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useFrom = (initailInput, initailFormValidity) => {\r\n  const [state, dispatch] = useReducer(formReducer, {\r\n    inputs: initailInput,\r\n    isValid: initailFormValidity\r\n  });\r\n  const inputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({\r\n      type: \"INPUT_CHANGE\",\r\n      value: value,\r\n      isValid: isValid,\r\n      inputId: id\r\n    });\r\n  }, []);\r\n  const setFormData = useCallback((inputData, formValidity) => {\r\n    dispatch({\r\n      type: \"SET_DATA\",\r\n      inputs: inputData,\r\n      formIsValid: formValidity\r\n    });\r\n  }, []);\r\n  return [state, inputHandler, setFormData];\r\n};\r\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export const PLACE_TAG_TITLES = {\r\n  'natural': 'Natural',\r\n  'historical': 'Historical',\r\n  'outdoor': 'Outdoor',\r\n  'touristic': 'Touristic',\r\n};\r\n\r\nexport const PLACE_TAGS = [\r\n  { name: 'natural', title: 'Natural' },\r\n  { name: 'historical', title: 'Historical' },\r\n  { name: 'outdoor', title: 'Outdoor' },\r\n  { name: 'touristic', title: 'Touristic'}\r\n];","import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./ImageUpload.css\";\r\nimport Button from \"./Button\";\r\nconst ImageUpload = ({ id, center, onInput, errorText }) => {\r\n  const [file, setFile] = useState();\r\n  const [previewUrl, setPreviewUrl] = useState();\r\n  const [isValid, setIsValid] = useState(false);\r\n  const filePickerRef = useRef();\r\n  let pickedFile;\r\n  let fileIsValid = isValid;\r\n\r\n  useEffect(() => {\r\n    if (!file) return;\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      setPreviewUrl(fileReader.result);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }, [file]);\r\n\r\n  const pickedHandler = event => {\r\n    if (event.target.files || event.target.files.length === 1) {\r\n      pickedFile = event.target.files[0];\r\n      setFile(pickedFile);\r\n      setIsValid(true);\r\n      fileIsValid = true;\r\n    } else {\r\n      setIsValid(false);\r\n      fileIsValid = false;\r\n    }\r\n    onInput(id, pickedFile, fileIsValid);\r\n  };\r\n\r\n  const pickImageHandler = () => filePickerRef.current.click();\r\n\r\n  return (\r\n    <div className='form-control'>\r\n      <input\r\n        ref={filePickerRef}\r\n        id={id}\r\n        style={{ display: \"none\" }}\r\n        type='file'\r\n        accept='.jpg,.png,.jpeg'\r\n        onChange={pickedHandler}\r\n      />\r\n      <div className={`image-upload ${center && \"center\"}`}>\r\n        <div className='image-upload__preview'>\r\n          {previewUrl && <img src={previewUrl} alt='Preview' />}{\" \"}\r\n          {!previewUrl && <p>Please pick an image.</p>}\r\n        </div>\r\n        <Button type='button' onClick={pickImageHandler}>\r\n          PICK IMAGE\r\n        </Button>\r\n      </div>\r\n      {!isValid && <p>{errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n"],"sourceRoot":""}