{"version":3,"sources":["shared/component/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","shared/component/UIElements/Card.js","shared/Util/constants.js"],"names":["Map","props","useState","map","setMap","mapContainer","useRef","center","zoom","useEffect","mapboxgl","accessToken","process","container","current","style","on","resize","initializeMap","className","ref","el","PlaceItem","place","onDeletePlace","useHttpClient","error","sendRequest","clearError","auth","useContext","AuthContext","showMap","setShowMap","showConfirmModal","setShowConfirmModal","evaluation","setEvaluation","addLikes","setAddLikes","addDislikes","setAddDislike","showTravelWishButton","setShowTravelWishButton","showTick","setShowTick","closeMapHandler","id","image","name","title","address","description","location","tags","history","useHistory","a","data","fetchEvaluation","addLikeAndRemoved","isLoggedIn","newData","likes","userId","JSON","stringify","Authorization","token","push","addDisLikeAndRemoved","disLike","cancelDeleteHandler","confirmDeleteHandler","addBucketList","users","setUsers","getUsers","checkAdded","find","item","_id","bucketList","filter","length","ErrorModal","onClear","Modal","show","onCancel","header","contentClass","footerClass","footer","Button","onClick","inverse","danger","Card","src","imageUrl","alt","color","includes","tag","Chip","key","variant","size","label","PLACE_TAG_TITLES","to","creator","role","aria-label","aria-hidden","PlaceList","items","UserPlaces","isLoading","places","setPlaces","useParams","user","setUser","sortBy","setSortBy","setTags","getUser","join","userWithPlaces","getPlaces","err","handleTagChange","event","tagName","target","checked","oldTags","tagInputs","PLACE_TAGS","tagInput","Checkbox","onChange","inputProps","Select","menuItemValue","value","defaultValue","MenuItem","disabled","detetedPlaceId","prevPlaces","children"],"mappings":"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","file":"static/js/14.f4a006fd.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"./Map.css\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\n\r\nconst Map = props => {\r\n  const [map, setMap] = useState(null);\r\n  const mapContainer = useRef(null);\r\n  const { center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY;\r\n    const initializeMap = ({ setMap, mapContainer }) => {\r\n      const map = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: \"mapbox://styles/mapbox/streets-v11\",\r\n        center: center,\r\n        zoom: zoom\r\n      });\r\n\r\n      map.on(\"load\", () => {\r\n        setMap(map);\r\n        map.resize();\r\n      });\r\n    };\r\n\r\n    if (!map) initializeMap({ setMap, mapContainer });\r\n  }, [map, center, zoom]);\r\n\r\n  return (\r\n    <div\r\n      className={`map ${props.className}`}\r\n      ref={el => (mapContainer.current = el)}\r\n      style={props.style}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","\r\nimport React, { useState, Fragment, useContext, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport \"./PlaceItem.css\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport Modal from \"../../shared/component/UIElements/Modal\";\r\nimport Map from \"../../shared/component/UIElements/Map\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { PLACE_TAG_TITLES } from \"../../shared/Util/constants\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\n\r\n\r\nconst PlaceItem = ({ place, onDeletePlace }) => {\r\n  const {error, sendRequest, clearError } = useHttpClient();\r\n  const auth = useContext(AuthContext);\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [evaluation, setEvaluation] = useState();\r\n  const [addLikes, setAddLikes] = useState();\r\n  const [addDislikes, setAddDislike] = useState();\r\n  const [showTravelWishButton, setShowTravelWishButton] = useState(true);\r\n  const [showTick, setShowTick] = useState(false);\r\n  const openMapHandler = () => setShowMap(true);\r\n  const closeMapHandler = () => setShowMap(false);\r\n  const {\r\n    id,\r\n    image,\r\n    name,\r\n    title,\r\n    address,\r\n    description,\r\n    location,\r\n    tags,\r\n  } = place;\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    const fetchEvaluation = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/evaluation/${id}`,\r\n        );\r\n        setEvaluation(data.place);\r\n      } catch (error) {}\r\n    };\r\n    fetchEvaluation();\r\n  }, [addLikes, addDislikes, id, sendRequest]);\r\n\r\n  const addLikeAndRemoved = async () => {\r\n    if (auth.isLoggedIn) {\r\n      try {\r\n        const newData = { likes: auth.userId };\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/like/${id}`,\r\n          'POST',\r\n          JSON.stringify(newData),\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        );\r\n\r\n        setAddLikes(data);\r\n      } catch (error) {}\r\n    } else {\r\n      history.push('/auth');\r\n    }\r\n  };\r\n\r\n  const addDisLikeAndRemoved = async () => {\r\n    if (auth.isLoggedIn) {\r\n      try {\r\n        const newData = { disLike: auth.userId };\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/dislike/${id}`,\r\n\r\n          'POST',\r\n\r\n          JSON.stringify(newData),\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        );\r\n\r\n        setAddDislike(data);\r\n      } catch (error) {}\r\n    } else {\r\n      history.push('/auth');\r\n    }\r\n  };\r\n\r\n  const showDeleteWaringHandler = () => {\r\n    setShowConfirmModal(true);\r\n  };\r\n  const cancelDeleteHandler = () => {\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  const confirmDeleteHandler = async () => {\r\n    setShowConfirmModal(false);\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/places/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token\r\n        }\r\n      );\r\n      onDeletePlace(id);\r\n    } catch (error) {}\r\n  };\r\n  const addBucketList = async () => {\r\n    try {\r\n      setShowTravelWishButton(false);\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${id}`,\r\n        'PATCH',\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n        },\r\n      );\r\n      setShowTick(true);\r\n    } catch (error) {\r\n      setShowTravelWishButton(true);\r\n    }\r\n  };\r\n  const [users, setUsers] = useState();\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users`,\r\n        );\r\n        setUsers(data.users);\r\n      } catch (error) {}\r\n    };\r\n    getUsers();\r\n  }, [sendRequest]);\r\n\r\n  const checkAdded = users => {\r\n    if (!auth.userId) {\r\n      return false;\r\n    }\r\n    const currentUser = users.find(item => item._id === auth.userId);\r\n    const nonUniqueArray = currentUser.bucketList.filter(item => {\r\n      return item.id === id;\r\n    });\r\n    if (nonUniqueArray.length === 0) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <Modal\r\n        show={showMap}\r\n        onCancel={closeMapHandler}\r\n        header={address}\r\n        contentClass=\"place-item__modal-content\"\r\n        footerClass=\"place-item__actions\"\r\n        footer={<Button onClick={closeMapHandler}>Close</Button>}\r\n      >\r\n        <div className=\"map-container no-select\">\r\n          <h2>THE MAP!</h2>\r\n          <Map center={location} zoom={16} />\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        show={showConfirmModal}\r\n        onCancel={cancelDeleteHandler}\r\n        header=\"Are you sure?\"\r\n        className=\"place-item__modal-actions\"\r\n        footer={\r\n          <Fragment>\r\n            <Button inverse onClick={cancelDeleteHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </Fragment>\r\n        }\r\n      >\r\n        <p>\r\n          Do you want to proceed and delete this place? note that it can't be\r\n          undone thereafter.\r\n        </p>\r\n      </Modal>\r\n      {users && (\r\n        <li className=\"place-item fade-in\">\r\n          <Card className=\"place-item__content\">\r\n            <div className=\"place-item__image\">\r\n              <img src={image.imageUrl} alt={name} />\r\n            </div>\r\n            <div className=\"place-item__info\">\r\n              <div className=\"evaluation no-select\">\r\n                {evaluation && (\r\n                  <div className=\"like\">\r\n                    <p className=\"like-count\">\r\n                      {evaluation.likes >= 1000\r\n                        ? evaluation.likes.length / 1000 + \"k\"\r\n                        : evaluation.likes.length}\r\n                    </p>\r\n                    <i\r\n                      className=\"fas fa-thumbs-up fa-2x\"\r\n                      onClick={addLikeAndRemoved}\r\n                      style={{\r\n                        color: evaluation.likes.includes(auth.userId) && \"green\"\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n                {evaluation && (\r\n                  <div className=\"dislike\">\r\n                    <p className=\"dislike-count\">\r\n                      {evaluation.disLike >= 1000\r\n                        ? evaluation.disLike.length / 1000 + \"k\"\r\n                        : evaluation.disLike.length}\r\n                    </p>\r\n                    <i\r\n                      className=\"fas fa-thumbs-down fa-2x\"\r\n                      onClick={addDisLikeAndRemoved}\r\n                      style={{\r\n                        color: evaluation.disLike.includes(auth.userId) && \"red\"\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n              </div>{\" \"}\r\n              <p>{JSON.stringify()}</p>\r\n              <h2>{title}</h2>\r\n              <h3>{address}</h3>\r\n              <p>{description}</p>\r\n              <div>\r\n                {tags.map(tag => {\r\n                  return (\r\n                    <Chip\r\n                      key={tag}\r\n                      className=\"tag-chip\"\r\n                      variant=\"outlined\"\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      label={PLACE_TAG_TITLES[tag]}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div className=\"place-item__actions\">\r\n              <Button inverse onClick={openMapHandler}>\r\n                VIEW ON MAP\r\n              </Button>\r\n              <Link to={`/places/${id}`}>\r\n                <Button>DETAILS</Button>\r\n              </Link>\r\n              {place.creator === auth.userId && (\r\n                <Button to={`/places/${id}/edit`}>EDIT</Button>\r\n              )}\r\n              {place.creator === auth.userId && (\r\n                <Button danger onClick={showDeleteWaringHandler}>\r\n                  DELETE\r\n                </Button>\r\n              )}\r\n              {auth.token &&\r\n                place.creator !== auth.userId &&\r\n                showTravelWishButton &&\r\n                !checkAdded(users) && (\r\n                  <Button onClick={addBucketList}>ADD TO BUCKET LIST</Button>\r\n                )}\r\n              {checkAdded(users) && auth.userId && (\r\n                <span className=\"animated\">\r\n                  Already in your bucket{\" \"}\r\n                  <span\r\n                    role=\"img\"\r\n                    aria-label={\"already-in your bucket\"}\r\n                    aria-hidden={false}\r\n                  >\r\n                    &#9989;\r\n                  </span>\r\n                </span>\r\n              )}\r\n              {showTick && (\r\n                <span className=\" fadeOut animated\">\r\n                  Added{\" \"}\r\n                  <span role=\"img\" aria-label={\"added\"} aria-hidden={false}>\r\n                    &#9989;\r\n                  </span>\r\n                </span>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </li>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from \"react\";\r\nimport \"./PlaceList.css\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport PlaceItem from \"./PlaceItem\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\n\r\nconst PlaceList = ({ items, onDeletePlace }) => {\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"place-list center\">\r\n        <Card>\r\n          <h2>No places found maybe create one ?</h2>\r\n          <Button to='/places/new'>Share place</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"place-list\">\r\n      {items.map(place => (\r\n        <PlaceItem key={place.id} place={place} onDeletePlace={onDeletePlace}/>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PlaceList;\r\n","import React, { Fragment, useState, useEffect, useContext } from \"react\";\r\nimport PlaceList from \"../components/PlaceList\";\r\nimport { useParams, useHistory, Link } from \"react-router-dom\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport \"./UserPlaces.css\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { Select, Checkbox, MenuItem } from \"@material-ui/core\";\r\nimport { PLACE_TAGS } from \"../../shared/Util/constants\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\n\r\nconst UserPlaces = () => {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [places, setPlaces] = useState();\r\n  const userId = useParams().userId;\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const [user, setUser] = useState();\r\n  const [sortBy, setSortBy] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}/`\r\n        );\r\n        setUser(data);\r\n      } catch (err) {}\r\n    };\r\n    getUser();\r\n  }, [sendRequest, userId]);\r\n\r\n  useEffect(() => {\r\n    const getPlaces = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${\r\n            process.env.REACT_APP_BACKEND_URL\r\n          }/places/user/${userId}/?sortBy=${sortBy}&tagFilter=${tags.join(\",\")}`\r\n        );\r\n        setPlaces(data.userWithPlaces);\r\n      } catch (error) {}\r\n    };\r\n    getPlaces();\r\n  }, [sendRequest, userId, sortBy, tags]);\r\n  const placeDeleteHandler = (detetedPlaceId) => {\r\n    setPlaces((prevPlaces) =>\r\n      prevPlaces.filter((places) => places.id !== detetedPlaceId)\r\n    );\r\n  };\r\n  const getError = (err) => {\r\n    if (!places && auth.userId !== userId) {\r\n      return (\r\n        <h2 className=\"center gray-text fade-in-faster\">\r\n          There is no place shared by this user\r\n        </h2>\r\n      );\r\n    }\r\n    if (!places && auth.userId === userId) {\r\n      return (\r\n        <Fragment>\r\n          <h2 className=\"center gray-text fade-in-faster\">\r\n            You don't have any shared places. Would you like to add one?\r\n          </h2>\r\n          <div className=\"center fade-in-faster\">\r\n            <Button inverse to=\"/places/new\">\r\n              ADD A PLACE\r\n            </Button>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    } else {\r\n      return <h2>{err}</h2>;\r\n    }\r\n  };\r\n\r\n  //sort on selected option below\r\n  const sortByTitleRateDate = (event) => {\r\n    const menuItemValue = event.target.value;\r\n    if (menuItemValue === \"rate\") setSortBy(\"rate\");\r\n    if (menuItemValue === \"title\") setSortBy(\"title\");\r\n    if (menuItemValue === \"created_at\") setSortBy(\"created_at\");\r\n  };\r\n\r\n  const handleTagChange = (event) => {\r\n    const tagName = event.target.name;\r\n    const checked = event.target.checked;\r\n    if (checked) {\r\n      setTags((oldTags) => {\r\n        return oldTags.includes(tagName) ? oldTags : [...oldTags, tagName];\r\n      });\r\n    } else {\r\n      setTags((oldTags) => {\r\n        return oldTags.includes(tagName)\r\n          ? oldTags.filter((tag) => tag !== tagName)\r\n          : oldTags;\r\n      });\r\n    }\r\n  };\r\n\r\n  const goHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n  if (error)\r\n    return (\r\n      <ErrorModal\r\n        error={getError(error)}\r\n        header=\"Hello there!\"\r\n        onClear={goHome}\r\n      />\r\n    );\r\n\r\n  const tagInputs = [];\r\n\r\n  PLACE_TAGS.map((tag) => {\r\n    const checked = tags.includes(tag.name);\r\n    const tagInput = (\r\n      <span key={tag.name}>\r\n        <label>\r\n          <Checkbox\r\n            name={tag.name}\r\n            checked={checked}\r\n            onChange={handleTagChange}\r\n            inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n          />\r\n          {tag.title}\r\n        </label>\r\n        <span>&nbsp;&nbsp;</span>\r\n      </span>\r\n    );\r\n    tagInputs.push(tagInput);\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"place-overlay-container fade-in\">\r\n        <h2 className=\"center white-text inline no-select\">\r\n          Places of{\" \"}\r\n          <span className=\"yellow-text fade-in\"> {user && user.user.name}</span>{\" \"}\r\n        </h2>\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {!isLoading && places && (\r\n          <Fragment>\r\n            <div className=\"sort-filter-layout\">\r\n              <Select\r\n                onChange={sortByTitleRateDate}\r\n                defaultValue=\"none\"\r\n                style={{ color: \"white\" }}\r\n              >\r\n                <MenuItem value=\"none\" disabled>\r\n                  Choose an option to Sort\r\n                </MenuItem>\r\n                <MenuItem value=\"rate\">Sort By Rate</MenuItem>\r\n                <MenuItem value=\"title\">Sort By Title</MenuItem>\r\n                <MenuItem value=\"created_at\">Sort By Adding Date</MenuItem>\r\n              </Select>\r\n              {tagInputs}\r\n            </div>\r\n\r\n            <PlaceList items={places} onDeletePlace={placeDeleteHandler} />\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserPlaces;\r\n","import React from 'react';\r\n\r\nimport './Card.css';\r\n\r\nconst Card = props => {\r\n  return (\r\n    <div className={`card ${props.className}`} style={props.style}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export const PLACE_TAG_TITLES = {\r\n  'natural': 'Natural',\r\n  'historical': 'Historical',\r\n  'outdoor': 'Outdoor',\r\n  'touristic': 'Touristic',\r\n};\r\n\r\nexport const PLACE_TAGS = [\r\n  { name: 'natural', title: 'Natural' },\r\n  { name: 'historical', title: 'Historical' },\r\n  { name: 'outdoor', title: 'Outdoor' },\r\n  { name: 'touristic', title: 'Touristic'}\r\n];"],"sourceRoot":""}